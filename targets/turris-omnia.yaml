targets:
  main:
    features:
      - wifi
      - online
    resources:
      RemotePlace:
        name: !template "$LG_PLACE"
    drivers:
      NetworkPowerDriver: {}
      SerialDriver:
        txdelay: 0.05
      ShellDriver:
        prompt: 'root@[\w()]+:[^ ]+ '
        login_prompt: Please press Enter to activate this console.
        await_login_timeout: 15
        login_timeout: 120
        post_login_settle_time: 5
        username: root
      UBootDriver:
        prompt: "=> "
        init_commands:
          - setenv kernel_addr_r 0x2000000
          - setenv bootargs earlyprintk console=ttyS0,115200
        boot_command: >
          dhcp $kernel_addr_r turris-omnia/openwrt-mvebu-cortexa9-cznic_turris-omnia-initramfs-kernel.bin;
          bootm $kernel_addr_r
      TFTPProviderDriver: {}
      UBootStrategy: {}
      SSHDriver:
        username: root

images:
  root: !template $LG_IMAGE

options:
  tftp_server_ip: "192.168.1.203"
  tftp_dev_ip: "192.168.1.2"
